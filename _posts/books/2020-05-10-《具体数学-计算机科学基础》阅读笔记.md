---
layout: article
title: 2020-05-10-《具体数学-计算机科学基础》阅读笔记
date: 2020/5/10 18:21
categories: [阅读笔记, 计算机科学基础]
tags: [阅读笔记, 计算机科学基础]
root-path: ../..
---

写在阅读笔记前面，学习这本书是为什么？

> 现在初始学习的感觉就是补足计算机系列的基础，主要要是数学基本。毕竟，还是不想仅仅做个CRUD-BOY。而且，里面对于对于一些问题的分析比较有意思，用于工作中的一些代码的实现思考有部分参考意义。

# 第一章

## 河内塔

## 平面上的直线

## 约瑟夫问题

### 问题求解

对于偶数的情况，2n一定是偶数

> 幸存者号码是$J(n)$，假设一开始有2n个人，经过第一轮后剩下的人的排列刚好和n个人初始的排序是一样的，并且对应关系是每个人的号码加倍并减去1，所以 $J(2n)=newnumber(J(n))$，$newnumber(\cdot)$可以认为是2n到n个的第一轮转变，同时 $newnumber(k)=2k-1$。

对于奇数的情况，2n+1个一定是奇数，类似偶数，但是稍微有点区别

> 标号为1的人恰好是在标号为2n的人的后面被删除（每一轮每一个人都要动手，那么kill一个要么被kill）, $J(2n+1)=2J(n)+1$

上述可以组成形成$J$的递归式 
$$
\begin{align}
J(1) &=1\\
J(2n) &=2J(n)+1, n \ge 1 \\
J(2n+1) &=2J(n)+1, n \ge 1
\end{align}
$$
通过递归式，对很小的值快速做出一张表，猜测问题答案

| $n$    | 1    | 2    | 3    | 4    | 5    | 6    | 7    | 8    | 9    | 10   | 11   | 12   | 13   | 14   | 15   | 16   |
| ------ | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| $J(n)$ | 1    | 1    | 3    | 1    | 3    | 5    | 7    | 1    | 3    | 5    | 7    | 9    | 11   | 13   | 15   | 1    |

猜测，并使用过归纳法验证递归式如下
$$
\begin{align}
J(2^m +l) &= 2l + 1, m \ge 0, 0 \le l \lt 2^m \\
n &= 2^m + 1
\end{align}
$$

### 推广

1. $n$和$J(n)$的以2为基数

研究$n$和$J(n)$的以2为基数的表示. 假设$n$的二进制表示为
$$
\begin{align}
n &=(b_mb_{m-1}...b_1b_0)_2 \\ 
  &=b_m2^m + b_{m-1}2^{m-1}+...+b_12+b_0
\end{align}
$$
其中，每个 $b_i$ 为0或者1，同时首位数字 $b_m$ 是1。

注意 $n=2^m+l$，所以有
$$
\begin{align}
n &= (1b_{m-1}...b_1b_0)_2, \\
l &= (0b_{m-1}...b_1b_0)_2, \\
2l &= (b_{m-1}...b_1b_00)_2, \\
2l +1 &= (b_{m-1}...b_1b_01)_2, \\
J(n) &= 2l+1= (b_{m-1}...b_1b_0b_m)_2, 其中, b_m=1
\end{align}
$$
因此
$$
J((b_mb_{m-1}...b_1b_0)_2) = (b_{m-1}...b_1b_0b_m)_2
$$
用计算机语言描述就是，$n$向左循环移动一位就得到$J(n)$.

> 重复运用上面$J$的性质就会得到一系列的递减值，最终到达一个“不动点”，在该点有 $J(n)=n$. 利用循环移动的性质容易看出，不动点将是：对函数迭代足够多的次数总是会产生出全由1组成的形式，它的值将是 $2^{v_n}-1$，其中 $v_n$ 是 $n$ 的二进制表示1的个数。
>
> 举例说明：
> $$
> J(J(...(J((101101101101011)_2))...))=2^{10}-1=1023，其中，至少需要8个J
> $$

2. $m$ 为偶数时有 $J(n)=\frac{n}{2}$ 成立情况的讨论

继续几个对于约瑟夫问题的猜测：当 $m$ 为偶数时有 $J(n)=\frac{n}{2}$. 在一般情况下不成立的，不过现在讨论可以确定其在什么情况下成立：
$$
\begin{align}
J(n) &= \frac{n}{2}, \\
2l + 1 &= (2^m + l) / 2, \\
l &= \frac{1}{3}(2^m - 2).
\end{align}
$$
如果这个数 $l = \frac{1}{3}(2^m - 2)$ 是个整数，那么 $n = 2^m + l$ 就是一个解。不难验证，当 $m$ 为奇数时，$2^m - 2$ 是3的整数倍（因为 $2^m - 2 = 2^{2k+1} - 2 = 2(4^k-1)$），但当 $m$为偶数时则不然。

于是，方程$J(n)=\frac{n}{2}$有无穷多个解，前面几个解如下：

| $m$  | $l$  | $n = 2^m + l$ | $J(n) = 2l+1 = n/2$ | $n$(二进制表示) |
| ---- | ---- | ------------- | ------------------- | --------------- |
| 1    | 0    | 2             | 1                   | 10              |
| 3    | 2    | 10            | 5                   | 1010            |
| 5    | 10   | 42            | 21                  | 101010          |
| 7    | 42   | 170           | 85                  | 10101010        |

有意思的是，最右列的形状。这些二进制数，对它们向左循环移动一位与通常的👉移动一位（减半），会产生相同的结果。

3. 对函数 $J$ 推广

引入常数，可引出更加一般的递推式
$$
\begin{align}
f(1) &= \alpha \\
f(2n) &= 2f(n) + \beta, n \ge 1 \\
f(2n+1) &= 2f(n) + \gamma, n \ge 1 \\
\end{align}
$$
在原来的递归式中，$\alpha=1, \beta=-1, \gamma=1$

这里先给出上述递归式的导出结果  
$$
\begin{align}
f(n) & = A(n)\alpha + B(n)\beta + C(n)\gamma \\
A(n) &= 2^m \\
B(n) &= 2^m - 1 - l \\
C(n) &= l \\

\end{align}
$$
其中，$n = 2^m+l, 0 \le l \lt 2^m(n \ge 1)$

这里，用成套方法来求解上面这个递推式的结果

> 成套方法(repertoire method)：寻求一组已知其解的通用参数，这会给我们一套可以求解的特殊情形，然后将这些特殊情形组合得到一般的情形。有多少独立的参数，（上述例子有三个，$\alpha, \beta, \gamma$）就需要要有多少个独立的特解。

- $f(n) = A(n), \alpha = 1, \beta = \gamma = 0$
  $$
  \begin{align}
  A(1) &= 1 \\
  A(2n) &= 2A(n), n \ge 1 \\
  A(2n+1) &= 2A(n), n \ge 1 \\
  \end{align}
  $$
  对m用归纳法，可以推导得到
  $$
  A(2^m+l) = 2^m
  $$
  

- $f(n) = 1, \alpha = 1, \beta = \gamma = -1$
  $$
  \begin{align}
  1 &= \alpha \\
  1 &= 2 + \beta \\
  1 &= 2 + \gamma
  \end{align}
  $$
  可以推导出
  $$
  A(n) - B(n) - C(n) = f(n) = 1
  $$
  

- $f(n) = n, \alpha = 1, \beta = 0, \gamma = 1$
  $$
  \begin{align}
  1 &= \alpha \\
  2n &= 2n + \beta \\
  2n + 1 &= 2n + \gamma
  \end{align}
  $$
  可以推导出
  $$
  A(n) + C(n) = n
  $$
  联立这三个方程，即是
  $$
  \begin{align}
  A(n) &= 2^m, 其中 n = 2^m + l 且 0 \le l \lt 2^m \\
  A(n) - B(n) - C(n) &= 1 \\
  A(n) + C(n) &= n
  \end{align}
  $$
  

对于约瑟夫递归式有一个奇妙的二进制的解，对于推广后的递归式的解，同样可以。

令$\beta_0=\beta, \beta_1=\gamma$ ，推广后的递归式改写为
$$
\begin{align}
f(1) &= \alpha \\
f(2n+j) &= 2f(n) + \beta_j, j=0,1 , n \ge 1
\end{align}
$$
按照二进制展开就是（$b_j$ 其实是 0 或者 1，$n=(b_mb_{m-1} \cdots b_1b_0)_2$）
$$
\begin{align}
f((b_mb_{m-1} \cdots b_1b_0)_2) &= 2f((b_mb_{m-1} \cdots b_1)_2) + \beta_{b_0} \\
& = 4f((b_mb_{m-1} \cdots b_2)_2) + 2\beta_{b_1} + \beta_{b_0} \\
& \vdots \\
& = 2^mf((b_m)_2) + 2^{m-1}\beta_{b_{m-1}}+\cdots+2\beta_{b_1}+\beta_{b_0} \\
& = 2^m\alpha+2^{m-1}\beta_{b_{m-1}}+\cdots+2\beta_{b_1}+\beta_{b_0} \\
\end{align}
$$
解除二进制表示，允许任意的数字，而不仅仅是数字0或者数字1，上述推导可以变为
$$
\begin{align}
f((b_mb_{m-1} \cdots b_1b_0)_2) &=(\alpha\beta_{b_{m-1}}\beta_{b_{m-2}}\cdots\beta_{b_1}\beta_{b_0})_2
\end{align}
$$
当 $n=100=(1100100)_2$时，与前相同，原来的约瑟夫值 $\alpha=1, \beta=-1, \gamma=1$，可以给出
$$
\begin{align}
n & = (1 \qquad 1 \qquad 0 \qquad\ 0 \quad 1 \qquad\ 0 \qquad\ 0)_2 \ = 100 \\
--&--------------------\\
f(n) &= (1 \qquad 1 \quad -1 \quad -1 \quad 1 \quad -1 \quad -1)_2 \\
&= +64\ +32\ -16\ \ -8\ +4\ \ -2 \quad -1 \quad = 73
\end{align}
$$
由于n二进制表示中每一块二进制数字$(10\cdots00)_2$都被变换成
$$
(1-1\cdots-1-1)_2=(00\cdots01)_2
$$
这就推出了循环移位性质。

再进一步推广
$$
\begin{align}
f(j) &= \alpha_j, 1 \le j \lt d \\
f(dn+j) &= cf(n) + \beta_j, 0 \le j \lt d, n \ge 1
\end{align}
$$
这里从基数为$d$的数着手，从产生的值是用基数$c$表示之外，也就是说，它有变动基数的解
$$
f((b_mb_{m-1}\cdots b_1b_0)_d) = (\alpha_{b_m}\beta_{b_{m-1}}\beta_{b_{m-2}}\cdots\beta_{b_1}\beta_{b_0})_c
$$
举例说明，给定递归式
$$
\begin{align}
f(1) &= 34 \\
f(2) &= 5 \\
f(3n) &= 10f(n) + 76, n \ge 1 \\
f(3n+1) &= 10f(n)-2, n \ge 1 \\
f(3n+2) &= 10f(n)+8, n \ge 1\\
\end{align}
$$
如果计算 $f(19)$， 即
$$
f(19)=f((201)_3)=(5\ 76\ -2)_{10}=1258
$$


